<!DOCTYPE html>
<html>
<head>
    <title>Haskulator</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="title-bar">
        <h1 class="title-container">Welcome to Haskulator</h1>
    </div>
    <div class="choose-container">
        <h3 class="choose-div">Please choose a calculation:</h3>
    </div>
    <div id="optionsDiv" class="options-selector">

    </div>

    <div id="Acceleration" class="hidden">
        <iframe src="Acceleration.html" width="80%" height="400" class="file-show"></iframe>
    </div>

    <div id="Displacement" class="hidden">
        <iframe src="Displacement.html" width="80%" height="400" class="file-show"></iframe>
    </div>

    <div id="Momentum" class="hidden">
        <iframe src="Momentum.html" width="80%" height="400" class="file-show"></iframe>
    </div>

    <div id="Velocity" class="hidden">
        <iframe src="Velocity.html" width="80%" height="400" class="file-show"></iframe>
    </div>

    <script>
        function showDiv(divId) {
            document.getElementById(divId).style.display = 'block';
            hideOtherDivs(divId);
        }
        
        function hideOtherDivs(currentDivId) {
            const divIds = ['Acceleration', 'Displacement', 'Momentum', 'Velocity'];
            for (const id of divIds) {
                if (id !== currentDivId) {
                    document.getElementById(id).style.display = 'none';
                }
            }
        }
        // Load available problem categories from the server.
    fetch("http://localhost:3000/categories")
      .then(response => response.json())
      .then(data => {
        const optionDiv = document.getElementById("optionDiv");

        data.forEach(category => {
          const radioBtn = document.createElement("input");
          radioBtn.type = "radio";
          radioBtn.name = "btn"
          radioBtn.value = category.categoryName;
          radioBtn.textContent = category.categoryName;
          radioBtn.onclick = () =>{
            showDiv(category.categoryName)
          };
          const label = document.createElement("label");
          label.appendChild(radioBtn);
          label.appendChild(document.createTextNode(category.categoryName));

          optionsDiv.appendChild(label);
        });

}) 
.catch(error => console.error("Error:", error));
async function calculatePhysics(category, data) {
    try {
        const response = await fetch(`http://localhost:3000/${category}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data),
        });

        if (response.ok) {
            const result = await response.json();
          
            updateResultInHTML(result);
        } else {
            console.error('Calculation failed:', response.statusText);
        }
    } catch (error) {
        console.error('Error:', error);
    }
}

    </script>
</body>
</html>
